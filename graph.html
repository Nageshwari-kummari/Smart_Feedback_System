<!DOCTYPE html>
<html>
<head>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body {
    font-family: Arial;
    background: #f8fafc;
    padding: 30px;
}
.box {
    max-width: 700px;
    margin: auto;
    background: white;
    padding: 25px;
    border-radius: 12px;
}
.comment {
    background: #f1f5f9;
    padding: 10px;
    margin-top: 10px;
    border-radius: 8px;
}
</style>
</head>

<body>
<div class="box">
    <h2>Feedback Analysis</h2>
    <canvas id="lineChart"></canvas>

    <h3>Feedback Comments</h3>
    {% for c in comments %}
        <div class="comment">{{ c }}</div>
    {% endfor %}
</div>

<script>
    const ratings = {{ ratings | safe }};
    new Chart(document.getElementById("lineChart"), {
        type: "line",
        data: {
            labels: ratings.map((_, i) => "Feedback " + (i + 1)),
            datasets: [{
                label: "Ratings",
                data: ratings,
                borderWidth: 2,
                tension: 0.3,
                fill: false
            }]
        }
    });
</script>
</body>
</html>
